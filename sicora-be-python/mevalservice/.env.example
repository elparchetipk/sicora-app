# MEval Service Environment Configuration

# Database Configuration
DATABASE_URL=postgresql://meval_user:meval_password@localhost:5432/sicora_db
DB_SCHEMA=mevalservice_schema
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30

# API Configuration
API_PORT=8009
API_HOST=0.0.0.0
API_TITLE="MEval Service - Comités de Seguimiento y Evaluación"
API_VERSION=1.0.0
DEBUG=True
RELOAD=True

# Security Configuration
SECRET_KEY=your-super-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 hours

# External Service URLs
USER_SERVICE_URL=http://localhost:8001
SCHEDULE_SERVICE_URL=http://localhost:8003
ATTENDANCE_SERVICE_URL=http://localhost:8004
NOTIFICATION_SERVICE_URL=http://localhost:8011
EVALIN_SERVICE_URL=http://localhost:8006

# Redis Configuration (for caching and job queue)
REDIS_URL=redis://localhost:6379/3
REDIS_PASSWORD=
CACHE_TTL=3600  # 1 hour

# Scheduled Jobs Configuration
ENABLE_SCHEDULED_JOBS=True
MONTHLY_ANALYSIS_CRON="0 8 * * 0"      # Every Sunday at 8:00 AM
ALERT_CHECK_CRON="0 */4 * * *"         # Every 4 hours
CLEANUP_CRON="0 2 * * *"               # Daily at 2:00 AM

# Committee Configuration
DEFAULT_QUORUM_SIZE=3
MAX_COMMITTEE_MEMBERS=7
CONVOCATION_NOTICE_DAYS=8
APPEAL_DEADLINE_DAYS=5

# Detection Algorithm Parameters
EXCELLENCE_GRADE_THRESHOLD=4.5
EXCELLENCE_PERIOD_MONTHS=3
ABSENCE_PERCENTAGE_THRESHOLD=20.0
PLAN_COMPLIANCE_THRESHOLD=80.0

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/mevalservice.log

# Email/Notification Configuration
NOTIFICATION_FROM_EMAIL=comites@sena.edu.co
NOTIFICATION_FROM_NAME="Comités CGMLTI"
ENABLE_EMAIL_NOTIFICATIONS=True
ENABLE_SMS_NOTIFICATIONS=False

# Development/Testing
TESTING=False
TEST_DATABASE_URL=postgresql://meval_test:test_password@localhost:5432/sicora_test_db

# Monitoring
ENABLE_METRICS=True
METRICS_PORT=9009
HEALTH_CHECK_INTERVAL=30

# Performance
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT=30
CONNECTION_TIMEOUT=10

# Compliance and Audit
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for legal compliance
DOCUMENT_RETENTION_YEARS=7
ENABLE_AUDIT_TRAIL=True
