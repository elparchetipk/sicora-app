<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 650" style="background-color: #1a1a1a;">
  <defs>
    <style>
      .title { fill: #ffffff; font-family: 'Segoe UI', Arial, sans-serif; font-size: 18px; font-weight: bold; }
      .subtitle { fill: #e0e0e0; font-family: 'Segoe UI', Arial, sans-serif; font-size: 12px; }
      .process-label { fill: #ffffff; font-family: 'Segoe UI', Arial, sans-serif; font-size: 11px; font-weight: bold; }
      .step-label { fill: #d0d0d0; font-family: 'Segoe UI', Arial, sans-serif; font-size: 9px; }
      .tech-label { fill: #b0b0b0; font-family: 'Segoe UI', Arial, sans-serif; font-size: 8px; }

      .input-box { fill: #2d5a87; stroke: #4a90e2; stroke-width: 2; rx: 8; }
      .process-box { fill: #2d5a3d; stroke: #68d391; stroke-width: 2; rx: 8; }
      .storage-box { fill: #5a3d2d; stroke: #ed8936; stroke-width: 2; rx: 8; }
      .output-box { fill: #5a2d87; stroke: #9f7aea; stroke-width: 2; rx: 8; }
      .validation-box { fill: #5a5a2d; stroke: #f6e05e; stroke-width: 2; rx: 8; }

      .flow-arrow { fill: none; stroke: #4a90e2; stroke-width: 2; marker-end: url(#arrowhead); }
      .data-flow { fill: none; stroke: #68d391; stroke-width: 1.5; stroke-dasharray: 3,3; }
      .validation-flow { fill: none; stroke: #f6e05e; stroke-width: 2; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a90e2" />
    </marker>
  </defs>

  <!-- Título -->
  <text x="450" y="25" text-anchor="middle" class="title">Flujo de Datos - Sistema SICORA</text>
  <text x="450" y="45" text-anchor="middle" class="subtitle">Procesamiento de información académica y gestión de recursos</text>

  <!-- ENTRADA DE DATOS -->
  <rect x="50" y="80" width="150" height="80" class="input-box"/>
  <text x="125" y="105" text-anchor="middle" class="process-label">ENTRADA</text>
  <text x="125" y="120" text-anchor="middle" class="step-label">• Datos estudiantiles</text>
  <text x="125" y="135" text-anchor="middle" class="step-label">• Información académica</text>
  <text x="125" y="150" text-anchor="middle" class="step-label">• Recursos institucionales</text>

  <!-- VALIDACIÓN INICIAL -->
  <rect x="250" y="80" width="150" height="80" class="validation-box"/>
  <text x="325" y="105" text-anchor="middle" class="process-label">VALIDACIÓN</text>
  <text x="325" y="120" text-anchor="middle" class="step-label">• Formato de datos</text>
  <text x="325" y="135" text-anchor="middle" class="step-label">• Integridad referencial</text>
  <text x="325" y="150" text-anchor="middle" class="step-label">• Reglas de negocio</text>

  <!-- PROCESAMIENTO -->
  <rect x="450" y="80" width="150" height="80" class="process-box"/>
  <text x="525" y="105" text-anchor="middle" class="process-label">PROCESAMIENTO</text>
  <text x="525" y="120" text-anchor="middle" class="step-label">• Lógica de negocio</text>
  <text x="525" y="135" text-anchor="middle" class="step-label">• Cálculos académicos</text>
  <text x="525" y="150" text-anchor="middle" class="step-label">• Transformaciones</text>

  <!-- ALMACENAMIENTO -->
  <rect x="650" y="80" width="150" height="80" class="storage-box"/>
  <text x="725" y="105" text-anchor="middle" class="process-label">ALMACENAMIENTO</text>
  <text x="725" y="120" text-anchor="middle" class="step-label">• PostgreSQL (principal)</text>
  <text x="725" y="135" text-anchor="middle" class="step-label">• MongoDB (documentos)</text>
  <text x="725" y="150" text-anchor="middle" class="step-label">• Redis (cache)</text>

  <!-- SERVICIOS ESPECÍFICOS -->

  <!-- Gestión de Usuarios -->
  <rect x="50" y="220" width="130" height="100" class="process-box"/>
  <text x="115" y="240" text-anchor="middle" class="process-label">USUARIOS</text>
  <text x="115" y="255" text-anchor="middle" class="tech-label">Go Service (8001)</text>
  <text x="60" y="275" class="step-label">• Autenticación</text>
  <text x="60" y="290" class="step-label">• Autorización</text>
  <text x="60" y="305" class="step-label">• Perfiles</text>

  <!-- Horarios -->
  <rect x="200" y="220" width="130" height="100" class="process-box"/>
  <text x="265" y="240" text-anchor="middle" class="process-label">HORARIOS</text>
  <text x="265" y="255" text-anchor="middle" class="tech-label">Go Service (8002)</text>
  <text x="210" y="275" class="step-label">• Programación</text>
  <text x="210" y="290" class="step-label">• Disponibilidad</text>
  <text x="210" y="305" class="step-label">• Conflictos</text>

  <!-- Asistencia -->
  <rect x="350" y="220" width="130" height="100" class="process-box"/>
  <text x="415" y="240" text-anchor="middle" class="process-label">ASISTENCIA</text>
  <text x="415" y="255" text-anchor="middle" class="tech-label">Go Service (8003)</text>
  <text x="360" y="275" class="step-label">• Registro</text>
  <text x="360" y="290" class="step-label">• Seguimiento</text>
  <text x="360" y="305" class="step-label">• Reportes</text>

  <!-- Evaluaciones -->
  <rect x="500" y="220" width="130" height="100" class="process-box"/>
  <text x="565" y="240" text-anchor="middle" class="process-label">EVALUACIONES</text>
  <text x="565" y="255" text-anchor="middle" class="tech-label">Python Service (8101)</text>
  <text x="510" y="275" class="step-label">• Calificaciones</text>
  <text x="510" y="290" class="step-label">• Competencias</text>
  <text x="510" y="305" class="step-label">• Análisis</text>

  <!-- Proyectos -->
  <rect x="650" y="220" width="130" height="100" class="process-box"/>
  <text x="715" y="240" text-anchor="middle" class="process-label">PROYECTOS</text>
  <text x="715" y="255" text-anchor="middle" class="tech-label">Python Service (8102)</text>
  <text x="660" y="275" class="step-label">• Seguimiento</text>
  <text x="660" y="290" class="step-label">• Entregas</text>
  <text x="660" y="305" class="step-label">• Evaluación</text>

  <!-- CAPA DE DATOS -->
  <rect x="150" y="380" width="180" height="80" class="storage-box"/>
  <text x="240" y="405" text-anchor="middle" class="process-label">POSTGRESQL</text>
  <text x="240" y="420" text-anchor="middle" class="tech-label">Base de datos principal</text>
  <text x="160" y="440" class="step-label">• Datos estructurados</text>
  <text x="160" y="455" class="step-label">• Transacciones ACID</text>

  <rect x="350" y="380" width="180" height="80" class="storage-box"/>
  <text x="440" y="405" text-anchor="middle" class="process-label">MONGODB</text>
  <text x="440" y="420" text-anchor="middle" class="tech-label">Documentos y logs</text>
  <text x="360" y="440" class="step-label">• Datos no estructurados</text>
  <text x="360" y="455" class="step-label">• Analytics y reportes</text>

  <rect x="550" y="380" width="180" height="80" class="storage-box"/>
  <text x="640" y="405" text-anchor="middle" class="process-label">REDIS</text>
  <text x="640" y="420" text-anchor="middle" class="tech-label">Cache y sesiones</text>
  <text x="560" y="440" class="step-label">• Datos en memoria</text>
  <text x="560" y="455" class="step-label">• Performance</text>

  <!-- SALIDAS Y REPORTES -->
  <rect x="100" y="520" width="150" height="80" class="output-box"/>
  <text x="175" y="545" text-anchor="middle" class="process-label">REPORTES</text>
  <text x="175" y="560" text-anchor="middle" class="step-label">• Académicos</text>
  <text x="175" y="575" class="step-label">• Administrativos</text>
  <text x="175" y="590" class="step-label">• Estadísticos</text>

  <rect x="300" y="520" width="150" height="80" class="output-box"/>
  <text x="375" y="545" text-anchor="middle" class="process-label">DASHBOARDS</text>
  <text x="375" y="560" text-anchor="middle" class="step-label">• Tiempo real</text>
  <text x="375" y="575" text-anchor="middle" class="step-label">• Métricas KPI</text>
  <text x="375" y="590" text-anchor="middle" class="step-label">• Visualizaciones</text>

  <rect x="500" y="520" width="150" height="80" class="output-box"/>
  <text x="575" y="545" text-anchor="middle" class="process-label">NOTIFICACIONES</text>
  <text x="575" y="560" text-anchor="middle" class="step-label">• Alertas automáticas</text>
  <text x="575" y="575" text-anchor="middle" class="step-label">• Comunicaciones</text>
  <text x="575" y="590" text-anchor="middle" class="step-label">• Recordatorios</text>

  <rect x="700" y="520" width="150" height="80" class="output-box"/>
  <text x="775" y="545" text-anchor="middle" class="process-label">INTEGRACIONES</text>
  <text x="775" y="560" text-anchor="middle" class="step-label">• APIs externas</text>
  <text x="775" y="575" text-anchor="middle" class="step-label">• Exportaciones</text>
  <text x="775" y="590" text-anchor="middle" class="step-label">• Sincronización</text>

  <!-- FLUJOS PRINCIPALES -->

  <!-- Flujo principal horizontal -->
  <line x1="200" y1="120" x2="250" y2="120" class="flow-arrow"/>
  <line x1="400" y1="120" x2="450" y2="120" class="flow-arrow"/>
  <line x1="600" y1="120" x2="650" y2="120" class="flow-arrow"/>

  <!-- Desde procesamiento a servicios -->
  <line x1="525" y1="160" x2="115" y2="220" class="data-flow"/>
  <line x1="525" y1="160" x2="265" y2="220" class="data-flow"/>
  <line x1="525" y1="160" x2="415" y2="220" class="data-flow"/>
  <line x1="525" y1="160" x2="565" y2="220" class="data-flow"/>
  <line x1="525" y1="160" x2="715" y2="220" class="data-flow"/>

  <!-- Desde servicios a bases de datos -->
  <line x1="115" y1="320" x2="240" y2="380" class="data-flow"/>
  <line x1="265" y1="320" x2="240" y2="380" class="data-flow"/>
  <line x1="415" y1="320" x2="240" y2="380" class="data-flow"/>
  <line x1="565" y1="320" x2="440" y2="380" class="data-flow"/>
  <line x1="715" y1="320" x2="440" y2="380" class="data-flow"/>

  <!-- Cache connections -->
  <line x1="415" y1="320" x2="640" y2="380" class="validation-flow"/>
  <line x1="565" y1="320" x2="640" y2="380" class="validation-flow"/>

  <!-- Desde datos a salidas -->
  <line x1="240" y1="460" x2="175" y2="520" class="flow-arrow"/>
  <line x1="240" y1="460" x2="375" y2="520" class="flow-arrow"/>
  <line x1="440" y1="460" x2="575" y2="520" class="flow-arrow"/>
  <line x1="640" y1="460" x2="775" y2="520" class="flow-arrow"/>
</svg>
