<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 700" style="background-color: #1a1a1a;">
  <defs>
    <style>
      .title { fill: #ffffff; font-family: 'Segoe UI', Arial, sans-serif; font-size: 18px; font-weight: bold; }
      .subtitle { fill: #e0e0e0; font-family: 'Segoe UI', Arial, sans-serif; font-size: 12px; }
      .service-label { fill: #ffffff; font-family: 'Segoe UI', Arial, sans-serif; font-size: 11px; font-weight: bold; }
      .tech-label { fill: #b0b0b0; font-family: 'Segoe UI', Arial, sans-serif; font-size: 9px; }
      .small-text { fill: #d0d0d0; font-family: 'Segoe UI', Arial, sans-serif; font-size: 8px; }

      .frontend-box { fill: #2d5a87; stroke: #4a90e2; stroke-width: 2; rx: 8; }
      .backend-go-box { fill: #2d5a3d; stroke: #68d391; stroke-width: 2; rx: 8; }
      .backend-python-box { fill: #5a2d87; stroke: #9f7aea; stroke-width: 2; rx: 8; }
      .database-box { fill: #5a3d2d; stroke: #ed8936; stroke-width: 2; rx: 8; }
      .infrastructure-box { fill: #3d2d5a; stroke: #b794f6; stroke-width: 2; rx: 8; }

      .connection { fill: none; stroke: #4a90e2; stroke-width: 1.5; stroke-dasharray: 2,2; }
      .api-connection { fill: none; stroke: #68d391; stroke-width: 2; }
      .data-connection { fill: none; stroke: #ed8936; stroke-width: 2; }
    </style>
  </defs>

  <!-- Título -->
  <text x="500" y="25" text-anchor="middle" class="title">Arquitectura de Microservicios - SICORA</text>
  <text x="500" y="45" text-anchor="middle" class="subtitle">Sistema Integral de Control de Recursos Académicos - OneVision</text>

  <!-- FRONTEND LAYER -->
  <rect x="350" y="70" width="300" height="80" class="frontend-box"/>
  <text x="500" y="95" text-anchor="middle" class="service-label">FRONTEND</text>
  <text x="500" y="110" text-anchor="middle" class="tech-label">React + TypeScript + Vite</text>
  <text x="500" y="125" text-anchor="middle" class="small-text">Interface de usuario moderna y responsiva</text>
  <text x="500" y="140" text-anchor="middle" class="small-text">Puerto: 5173</text>

  <!-- API GATEWAY / LOAD BALANCER -->
  <rect x="400" y="180" width="200" height="50" class="infrastructure-box"/>
  <text x="500" y="200" text-anchor="middle" class="service-label">API GATEWAY</text>
  <text x="500" y="215" text-anchor="middle" class="tech-label">Nginx / Traefik</text>

  <!-- BACKEND SERVICES -->

  <!-- Backend Go Services -->
  <rect x="50" y="270" width="180" height="120" class="backend-go-box"/>
  <text x="140" y="290" text-anchor="middle" class="service-label">BACKEND GO</text>
  <text x="140" y="305" text-anchor="middle" class="tech-label">Go + Gin + GORM</text>
  <text x="60" y="325" class="small-text">• User Service (8001)</text>
  <text x="60" y="340" class="small-text">• Schedule Service (8002)</text>
  <text x="60" y="355" class="small-text">• Attendance Service (8003)</text>
  <text x="60" y="370" class="small-text">• Knowledge Base (8004)</text>

  <!-- Backend Python Services -->
  <rect x="260" y="270" width="180" height="120" class="backend-python-box"/>
  <text x="350" y="290" text-anchor="middle" class="service-label">BACKEND PYTHON</text>
  <text x="350" y="305" text-anchor="middle" class="tech-label">FastAPI + SQLAlchemy</text>
  <text x="270" y="325" class="small-text">• Evaluation Service (8101)</text>
  <text x="270" y="340" class="small-text">• Project Eval Service (8102)</text>
  <text x="270" y="355" class="small-text">• Software Factory (8103)</text>
  <text x="270" y="370" class="small-text">• Analytics Service (8104)</text>

  <!-- Additional Services -->
  <rect x="470" y="270" width="180" height="120" class="backend-go-box"/>
  <text x="560" y="290" text-anchor="middle" class="service-label">SERVICIOS AUXILIARES</text>
  <text x="560" y="305" text-anchor="middle" class="tech-label">Go + Python</text>
  <text x="480" y="325" class="small-text">• Notification Service</text>
  <text x="480" y="340" class="small-text">• File Upload Service</text>
  <text x="480" y="355" class="small-text">• Report Generator</text>
  <text x="480" y="370" class="small-text">• MCP Server (3000)</text>

  <!-- Data Processing -->
  <rect x="680" y="270" width="180" height="120" class="backend-python-box"/>
  <text x="770" y="290" text-anchor="middle" class="service-label">DATA PROCESSING</text>
  <text x="770" y="305" text-anchor="middle" class="tech-label">Python + Pandas</text>
  <text x="690" y="325" class="small-text">• Data Loader</text>
  <text x="690" y="340" class="small-text">• ETL Processes</text>
  <text x="690" y="355" class="small-text">• Analytics Engine</text>
  <text x="690" y="370" class="small-text">• ML Models</text>

  <!-- DATABASE LAYER -->
  <rect x="200" y="450" width="150" height="80" class="database-box"/>
  <text x="275" y="475" text-anchor="middle" class="service-label">PostgreSQL</text>
  <text x="275" y="490" text-anchor="middle" class="tech-label">Puerto: 5433</text>
  <text x="275" y="505" text-anchor="middle" class="small-text">Base de datos principal</text>
  <text x="275" y="520" text-anchor="middle" class="small-text">ACID compliant</text>

  <rect x="400" y="450" width="150" height="80" class="database-box"/>
  <text x="475" y="475" text-anchor="middle" class="service-label">MongoDB</text>
  <text x="475" y="490" text-anchor="middle" class="tech-label">Puerto: 27017</text>
  <text x="475" y="505" text-anchor="middle" class="small-text">Documentos NoSQL</text>
  <text x="475" y="520" text-anchor="middle" class="small-text">Analytics & Logs</text>

  <rect x="600" y="450" width="150" height="80" class="database-box"/>
  <text x="675" y="475" text-anchor="middle" class="service-label">Redis</text>
  <text x="675" y="490" text-anchor="middle" class="tech-label">Puerto: 6379</text>
  <text x="675" y="505" text-anchor="middle" class="small-text">Cache & Sessions</text>
  <text x="675" y="520" text-anchor="middle" class="small-text">Real-time data</text>

  <!-- INFRASTRUCTURE -->
  <rect x="100" y="570" width="200" height="60" class="infrastructure-box"/>
  <text x="200" y="590" text-anchor="middle" class="service-label">DOCKER COMPOSE</text>
  <text x="200" y="605" text-anchor="middle" class="tech-label">Orchestración local</text>
  <text x="200" y="620" text-anchor="middle" class="small-text">Desarrollo & Testing</text>

  <rect x="350" y="570" width="200" height="60" class="infrastructure-box"/>
  <text x="450" y="590" text-anchor="middle" class="service-label">MONITORING</text>
  <text x="450" y="605" text-anchor="middle" class="tech-label">Health Checks</text>
  <text x="450" y="620" text-anchor="middle" class="small-text">Logs & Metrics</text>

  <rect x="600" y="570" width="200" height="60" class="infrastructure-box"/>
  <text x="700" y="590" text-anchor="middle" class="service-label">CI/CD</text>
  <text x="700" y="605" text-anchor="middle" class="tech-label">Git Hooks & Actions</text>
  <text x="700" y="620" text-anchor="middle" class="small-text">Automated Testing</text>

  <!-- CONNECTIONS -->

  <!-- Frontend to API Gateway -->
  <line x1="500" y1="150" x2="500" y2="180" class="api-connection"/>

  <!-- API Gateway to Backend Services -->
  <line x1="450" y1="230" x2="140" y2="270" class="api-connection"/>
  <line x1="500" y1="230" x2="350" y2="270" class="api-connection"/>
  <line x1="520" y1="230" x2="560" y2="270" class="api-connection"/>
  <line x1="550" y1="230" x2="770" y2="270" class="api-connection"/>

  <!-- Backend to Databases -->
  <line x1="140" y1="390" x2="275" y2="450" class="data-connection"/>
  <line x1="350" y1="390" x2="275" y2="450" class="data-connection"/>
  <line x1="350" y1="390" x2="475" y2="450" class="data-connection"/>
  <line x1="560" y1="390" x2="675" y2="450" class="data-connection"/>
  <line x1="770" y1="390" x2="475" y2="450" class="data-connection"/>

  <!-- Legend -->
  <rect x="20" y="20" width="200" height="150" style="fill: none; stroke: #4a90e2; stroke-width: 1; rx: 4;"/>
  <text x="120" y="40" text-anchor="middle" class="service-label">LEYENDA</text>

  <rect x="30" y="50" width="15" height="10" class="frontend-box"/>
  <text x="50" y="59" class="small-text">Frontend (React)</text>

  <rect x="30" y="70" width="15" height="10" class="backend-go-box"/>
  <text x="50" y="79" class="small-text">Backend Go</text>

  <rect x="30" y="90" width="15" height="10" class="backend-python-box"/>
  <text x="50" y="99" class="small-text">Backend Python</text>

  <rect x="30" y="110" width="15" height="10" class="database-box"/>
  <text x="50" y="119" class="small-text">Bases de Datos</text>

  <rect x="30" y="130" width="15" height="10" class="infrastructure-box"/>
  <text x="50" y="139" class="small-text">Infraestructura</text>

  <line x1="30" y1="155" x2="45" y2="155" class="api-connection"/>
  <text x="50" y="159" class="small-text">API Calls</text>
</svg>
